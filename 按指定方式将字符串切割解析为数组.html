<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>按指定方式分解字符串</title>
</head>
<body>
	<form>
		<input type="text" placeholder="请输入一个字符串" class="inp">
		<a href="javascript:parse()">解析</a>
		<input type="fieldset" name="content" class="target" placeholder="请输入需要去除的内容">
		<input type="fieldset" name="content" class="content" placeholder="去除后为...">
	</form>

	<script type="text/javascript">
		function parse(){
			var str = document.getElementsByClassName("inp")[0].value
			var target = document.getElementsByClassName("target")[0].value
			var arr = split(str,target)
			console.log(arr)
			if(arr.length < 1){
				console.log("没有符合要求的字段")
				document.getElementsByClassName("content")[0].value = "没有符合要求的字段....."
				return
			}
		//	arr = arr.join("|")
		document.getElementsByClassName("content")[0].value = arr
	}
		/*
		var str = "JonathanLeeahaha"
		var target ="a"
		var arr =split(str,target)
		*/
		//这个split函数只需要传入字符串str，需要去除的字符spl
		function split(str,target){
			var startIndex = 0,nextIndex,len = str.length,arr=[]
			nextIndex = str.indexOf(target,startIndex)
			var i =0
			if(nextIndex == -1){
				arr.push(str)
			}else{		
				while(nextIndex>-1){
					//如果nextIndex和startIndex相同那么就说明startIndex就是需要清除的目标字符，所以需要把startIndex往后再移一个，然后继续。
					if(nextIndex == startIndex){
						startIndex+= target.length//根据spl的长度移动start
						nextIndex = str.indexOf(target,startIndex)
					}else{						
						arr.push(str.substring(startIndex,nextIndex))
						startIndex = nextIndex+target.length
						nextIndex = str.indexOf(target,startIndex)
					}
				}
				if(str.substring(startIndex) != ""){	
					arr.push(str.substring(startIndex))
				}
				return  arr
			}
		}
	</script>
</body>
</html>